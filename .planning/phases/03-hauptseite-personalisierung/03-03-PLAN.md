---
phase: 03-hauptseite-personalisierung
plan: 03
type: execute
---

<objective>
Implementiere personalisierte Hero-Line basierend auf Quiz-Daten und füge crawlbare Trust-Seals hinzu.

Purpose: Relevanz durch kontextbewusste Ansprache erhöhen und SEO-freundliche Vertrauenssignale stärken
Output: Dynamischer Hero-Text mit Quiz-Integration, semantisch strukturierte Trust-Seals
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Previous plan context:
@.planning/phases/03-hauptseite-personalisierung/03-02-SUMMARY.md

# Previous phase context:
@.planning/phases/02-fragebogen-optimierung/02-02-SUMMARY.md
@.planning/phases/02-fragebogen-optimierung/02-03-SUMMARY.md
@.planning/phases/02-fragebogen-optimierung/02-04-SUMMARY.md

**Tech stack available:** Astro 5.15.4, React 19.2.3, Tailwind CSS 4.1.14, Lucide icons
**Established patterns:** localStorage user data access, client-side personalization, schema.org structured data
**Key files:**
- src/pages/index.astro (hero section lines 13-36)
- localStorage key: 'elmex-user-profile' contains quiz answers (concern, ageGroup, brushingTechnique, eatingHabits, consumption, dentistFrequency, cleaningFrequency)

**Constraining decisions:**
- Phase 02-02: Quiz captures brushingTechnique, eatingHabits, consumption patterns
- Phase 02-03: Quiz captures dentistFrequency, cleaningFrequency (with ⭐ recommended options)
- Phase 02-04: Account creation optional, quiz works in guest mode

**Quiz data structure from Phase 2:**
```typescript
{
  answers: {
    concern: string, // 'sensitivity' | 'cavity' | 'gum' | 'whitening'
    ageGroup: string, // 'baby' | 'junior' | 'adult' | 'senior'
    brushingTechnique: string[], // ['circular', 'horizontal', 'vertical', 'unsure']
    eatingHabits: string[], // ['sugary', 'acidic', 'balanced', 'snacking']
    consumption: string[], // ['coffee', 'tea', 'smoking', 'none']
    dentistFrequency: string, // 'twice-year' | 'once-year' | 'less' | 'never'
    cleaningFrequency: string // 'twice-year' | 'once-year' | 'less' | 'never'
  }
}
```

**Issues being addressed:** None
</context>

<tasks>

<task type="auto">
  <name>Task 1: Implement personalized hero line with quiz data</name>
  <files>src/pages/index.astro</files>
  <action>
    Replace static hero headline (line 15-17) with dynamic, personalized version using client-side script:

    1. Add data-personalized attribute to h1 element for script targeting
    2. Add &lt;script&gt; after hero section that:
       - Reads localStorage 'elmex-user-profile'
       - Generates personalized headline based on quiz answers:
         * If concern === 'sensitivity': "Ihre Lösung für empfindliche Zähne"
         * If concern === 'cavity': "Effektiver Kariesschutz für Ihre Familie"
         * If concern === 'gum': "Gesundes Zahnfleisch beginnt hier"
         * If concern === 'whitening': "Strahlend weiße Zähne, natürlich geschützt"
         * If ageGroup === 'junior' || 'baby': "Zahngesundheit von Anfang an"
         * If dentistFrequency === 'never': "Professionelle Beratung, jetzt verfügbar"
       - Fallback (no quiz data): "Zahngesundheit für die ganze Familie" (current text)
    3. Update subheadline (line 18-20) similarly:
       - With quiz: "Personalisiert für Ihre [concern] - Wissenschaftlich fundiert"
       - Fallback: Keep "Wissenschaftlich fundierter Kariesschutz für jedes Alter"
    4. Use DOMContentLoaded event, check profile existence, update textContent

    WHY personalization: Relevant headlines increase engagement by 60% - users feel understood
    WHY fallback: First-time visitors (no quiz) must see valuable generic content
  </action>
  <verify>
    1. Clear localStorage, open http://localhost:4321/ - Shows fallback text "Zahngesundheit für die ganze Familie"
    2. Complete quiz at /onboarding with concern='sensitivity', refresh homepage - Shows "Ihre Lösung für empfindliche Zähne"
    3. Console shows no errors
  </verify>
  <done>Hero headline personalizes based on quiz data (concern, ageGroup, dentistFrequency), fallback works for first-time visitors, smooth updates without flash</done>
</task>

<task type="auto">
  <name>Task 2: Add crawlable trust seals to trust bar</name>
  <files>src/pages/index.astro</files>
  <action>
    Enhance trust bar section (lines 38-72) with semantic HTML for SEO crawlability:

    1. Wrap entire trust bar section in &lt;section&gt; with schema.org itemscope:
       - itemscope itemtype="https://schema.org/Brand"
       - Add itemprop="award" to each trust item
    2. Convert each trust item div to &lt;article&gt; for semantic structure
    3. Add aria-label to each icon SVG for accessibility: "Von Zahnärzten empfohlen Icon"
    4. Add hidden span with itemprop="name" for each credential:
       - &lt;span itemprop="name" class="sr-only"&gt;Von Zahnärzten empfohlen&lt;/span&gt;
    5. Keep visual design identical - changes are semantic/structural only
    6. Add sr-only utility class to Tailwind if missing: .sr-only { position: absolute; width: 1px; height: 1px; ... }

    WHY schema.org: Structured data helps Google feature in Knowledge Graph and rich snippets
    WHY article tags: Semantic HTML signals importance to crawlers without changing visuals
  </action>
  <verify>
    1. Open http://localhost:4321/ - Trust bar appears visually unchanged
    2. View page source - section has itemscope itemtype="https://schema.org/Brand"
    3. Each trust item is &lt;article&gt; with itemprop="award"
    4. Screen reader test (or inspect): Hidden spans contain credential names
  </verify>
  <done>Trust bar enhanced with schema.org markup, semantic article tags for each credential, accessibility labels added, visual design unchanged</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] npm run dev starts without errors
- [ ] Hero headline personalizes correctly based on quiz data
- [ ] Fallback text shows for users without quiz data
- [ ] Trust bar has schema.org Brand markup
- [ ] Trust items use semantic article tags
- [ ] No visual regression - trust bar looks identical
- [ ] No console errors
</verification>

<success_criteria>

- All tasks completed
- Hero personalization works with proper fallback
- Trust seals are crawlable with schema.org markup
- Semantic HTML enhances SEO
- No visual changes to trust bar design
- Accessibility improved
</success_criteria>

<output>
After completion, create `.planning/phases/03-hauptseite-personalisierung/03-03-SUMMARY.md`:

# Phase 3 Plan 3: Personalized Hero Line & Trust Seals Summary

**[Substantive one-liner - what shipped, not "phase complete"]**

## Accomplishments

- [Key outcome 1]
- [Key outcome 2]

## Files Created/Modified

- `src/pages/index.astro` - Description

## Decisions Made

[Key decisions and rationale, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Ready for 03-04-PLAN.md (Prominent Product Finder & Advisory Tips)
</output>
