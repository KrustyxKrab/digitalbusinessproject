---
phase: 01-foundation-cleanup
plan: 02
type: execute
---

<objective>
Establish intelligent product slug structure and organize expert images to create foundation for personalized product system and expert-driven trust building.

Purpose: Enable scalable product management through folder-based organization and prepare expert assets for use in questionnaire, main page, and consultation features.
Output: Product folders with metadata files and images, organized expert photo directory.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/codebase/STRUCTURE.md
@.planning/codebase/CONVENTIONS.md
@src/pages/produkte/kariesschutz-zahnpasta.astro
@src/types/models.ts

**Tech stack available:**
- Astro 5.15.4 with file-based routing and dynamic routes
- File system for product organization
- TypeScript type definitions in src/types/models.ts

**Established patterns:**
- Static assets in public/ directory
- Product pages use ProductDetail type interface
- Hardcoded product data in individual .astro files (current state)

**Context from PROJECT.md:**
Intelligent slug structure requirement: "Ordner mit Subordnern pro Produkt" with "Produktinfo-Datei + 3 Bilder (titel_1.png, titel_2.png, titel_3.png)". Product categories: Zahnpasta, Zahnspülung, Zahnbürste, Interdentalbürste, Gelee.

Expert images in /public/models will be used in Phase 2 (Fragebogen), Phase 3 (Hauptseite), and Phase 6 (Beratung) for trust-building.

**Current state:**
- Products are individual .astro pages with embedded ProductDetail objects
- No centralized product image organization
- Expert photos exist somewhere in public/ but aren't organized

**Goal:**
Create a maintainable product system where adding a new product means:
1. Create folder: public/products/{product-slug}/
2. Add images: {slug}_01.png, {slug}_02.png, {slug}_03.png
3. Add metadata: product-info.json with ProductDetail data
4. Dynamic routing loads from folder structure (will be implemented in Phase 4)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Implement intelligent product slug structure</name>
  <files>public/products/, public/products/kariesschutz-zahnpasta/, public/products/sensitive-zahnpasta/</files>
  <action>
    Create folder-based product organization structure:

    1. Create directory structure:
       ```
       public/products/
       ├── kariesschutz-zahnpasta/
       │   ├── product-info.json
       │   ├── kariesschutz-zahnpasta_01.png  (placeholder or existing image)
       │   ├── kariesschutz-zahnpasta_02.png
       │   └── kariesschutz-zahnpasta_03.png
       └── sensitive-zahnpasta/
           ├── product-info.json
           ├── sensitive-zahnpasta_01.png
           ├── sensitive-zahnpasta_02.png
           └── sensitive-zahnpasta_03.png
       ```

    2. Create product-info.json for kariesschutz-zahnpasta by extracting data from src/pages/produkte/kariesschutz-zahnpasta.astro:
       - Copy the ProductDetail object structure
       - Convert to JSON format
       - Include all fields: id, slug, sku, name, subtitle, category, productLine, description, etc.

    3. Create product-info.json for sensitive-zahnpasta similarly from src/pages/produkte/sensitive-zahnpasta.astro

    4. For product images:
       - Check if product images already exist elsewhere in public/
       - If found, move them to the new structure
       - If not found, create placeholder files using Astro's sharp for a simple colored rectangle with product name text (or just note their absence in the summary)

    5. Document the structure pattern in a comment at the top of each product-info.json:
       ```json
       {
         "_comment": "Product metadata for dynamic loading. Images: {slug}_01.png (main), {slug}_02.png (hover), {slug}_03.png (detail)",
         ...
       }
       ```

    Do NOT modify the existing .astro product pages yet - that happens in Phase 4 when we implement dynamic routing. This task only establishes the file structure foundation.

    Product categories to prepare folders for (create at least the two existing ones, document the pattern for future additions):
    - Zahnpasta (toothpaste) - kariesschutz-zahnpasta, sensitive-zahnpasta
    - Future: Zahnspülung, Zahnbürste, Interdentalbürste, Gelee
  </action>
  <verify>
    1. Directory exists: ls -la public/products/
    2. Both product folders exist with correct structure: ls -la public/products/kariesschutz-zahnpasta/ public/products/sensitive-zahnpasta/
    3. product-info.json files are valid JSON: cat public/products/kariesschutz-zahnpasta/product-info.json | jq '.' (should parse without errors)
    4. Each folder has 3 image files (or documented placeholders)
  </verify>
  <done>Product folder structure established with metadata JSON files, image placeholders/files in place, pattern documented for future products</done>
</task>

<task type="auto">
  <name>Task 2: Organize expert images from public/ for accessibility</name>
  <files>public/experts/, public/assets/experts/</files>
  <action>
    Locate and organize expert photos to make them accessible for future phases:

    1. Search for existing expert/model images:
       ```bash
       find public -type f \( -name "*expert*" -o -name "*model*" -o -name "*dentist*" -o -name "*doctor*" -o -name "*dr-*" \) -iname "*.png" -o -iname "*.jpg" -o -iname "*.jpeg"
       ```

    2. Based on findings, determine if images are in:
       - public/models/ (as mentioned in PROJECT.md)
       - public/assets/
       - Or need to be sourced

    3. Create organized structure:
       ```
       public/assets/experts/
       ├── expert-1.jpg  (or appropriate name)
       ├── expert-2.jpg
       └── expert-3.jpg
       ```

    4. If expert images are found:
       - Move/copy to public/assets/experts/
       - Use descriptive names: expert-{name}.jpg or expert-{number}.jpg
       - Verify images are web-optimized (reasonable file size)

    5. If NO expert images are found:
       - Create the directory structure public/assets/experts/
       - Document in the summary that placeholder expert images need to be added
       - Note: Real expert photos should be professional headshots for trust-building

    6. Create a README.md in public/assets/experts/ documenting:
       - Purpose: "Expert photos for trust-building in questionnaire, main page, and consultation"
       - Usage: "Import as /assets/experts/expert-1.jpg in Astro components"
       - Requirements: "Professional headshots, web-optimized, appropriate licensing"

    The expert photos will be used in:
    - Phase 2: Fragebogen (trust-building header)
    - Phase 3: Hauptseite (expert recommendations section)
    - Phase 6: Beratung (consultation page expert profiles)
  </action>
  <verify>
    1. Directory exists: ls -la public/assets/experts/
    2. README.md present: cat public/assets/experts/README.md
    3. Images accessible via HTTP: Start dev server, visit http://localhost:4321/assets/experts/expert-1.jpg (should load or 404 if placeholder)
    4. Structure documented for future phases
  </verify>
  <done>Expert images directory created and organized, accessible via /assets/experts/, documented for use in Phases 2, 3, and 6</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] public/products/ directory exists with at least 2 product folders
- [ ] Each product folder contains product-info.json with valid JSON
- [ ] Each product folder has 3 image files or documented placeholders
- [ ] public/assets/experts/ directory exists
- [ ] Expert images organized and documented
- [ ] README files document usage patterns
- [ ] npm run dev starts without errors
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Product folder structure follows documented pattern
- Expert images accessible for future phases
- Foundation ready for Phase 2 (Fragebogen) and Phase 4 (Produktsystem)
- No build errors or warnings
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-cleanup/01-02-SUMMARY.md`:

# Phase 1 Plan 2: Content Structure Foundation Summary

**Established intelligent product organization and expert image structure**

## Accomplishments

- Created folder-based product slug structure in public/products/
- Implemented product-info.json metadata pattern for 2 existing products
- Organized expert images in public/assets/experts/ for Phase 2, 3, 6 use
- Documented patterns for future product additions
- Foundation ready for dynamic product system (Phase 4)

## Files Created/Modified

- `public/products/kariesschutz-zahnpasta/product-info.json` - Product metadata
- `public/products/sensitive-zahnpasta/product-info.json` - Product metadata
- `public/assets/experts/README.md` - Expert images documentation
- Product image placeholders/files (3 per product)

## Decisions Made

- Product folder naming: Use slug format (kariesschutz-zahnpasta) for consistency
- Image naming: {slug}_01.png (main), {slug}_02.png (hover), {slug}_03.png (detail)
- Metadata format: JSON files for dynamic loading compatibility
- Expert images location: public/assets/experts/ for centralized access

## Issues Encountered

[Document if expert images were missing, if product images needed creation, etc.]

## Next Phase Readiness

**Phase 2 (Fragebogen-Optimierung):**
- Expert images ready for trust-building header
- Structure supports Zero-Party-Data collection

**Phase 4 (Produktsystem-Überarbeitung):**
- Product folder structure ready for dynamic routing
- Metadata JSON can be loaded by Astro dynamic routes
- Image naming convention established

Phase 1 complete. Ready for Phase 2.
</output>
