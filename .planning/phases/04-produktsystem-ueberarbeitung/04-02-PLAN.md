---
phase: 04-produktsystem-ueberarbeitung
plan: 02
subsystem: product-pages
tags: [product-detail, product-images, buy-buttons, ingredients]

# Dependency graph
requires:
  - phase: 04-produktsystem-ueberarbeitung
    plan: 04-01
    provides: Consistent product card styling and real images
provides:
  - Enhanced product pages with 3 images above fold
  - Prominent "Wo kaufen" button
  - Detailed ingredients section
  - Professional product name display
affects: [04-03-subscription, 04-05-recommendations]

# Tech tracking
tech-stack:
  added: []
  patterns: [product-image-gallery, retailer-integration, ingredients-display]

key-files:
  created: []
  modified: [src/pages/produkte/kariesschutz-zahnpasta.astro, src/pages/produkte/sensitive-zahnpasta.astro]
---

<objective>
Enhance product detail pages with prominent product name, large "Wo kaufen" button, 3 product images above the fold, detailed ingredients section, and remove time hints from routine integration.

Foundation: Existing ProductDetailLayout component + product slug structure from Phase 1.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/STATE.md
@.planning/ROADMAP.md

**Existing product pages:**
@src/pages/produkte/kariesschutz-zahnpasta.astro (first 100 lines show ProductDetail structure)
- Uses ProductDetailLayout component
- Has product data with name, description, benefits, ingredients
- buyLinks array with dm, Rossmann, REWE

**Requirements from PROJECT.md:**
- Product name deutlich erkennbar
- "Wo kaufen" größer als Button / daneben "Online kaufen"
- Zeithinweis bei Routine entfernen
- Produktinformationen detailliert darstellen
- Inhaltsstoffe auflisten
- Drei Produktbilder above the fold: Hauptbild groß, zwei weitere daneben
</context>

<tasks>

<task type="auto">
  <name>Redesign product header with 3 images above fold</name>
  <files>src/components/ProductDetailLayout.astro (or src/pages/produkte/*.astro)</files>
  <action>
    Restructure product page header to show 3 images prominently:

    1. Layout structure (above the fold):
       ```
       [Product Name - Large & Bold]

       +----------------------------+
       |  [Main Image - Large]      |  [Image 2]
       |                            |  [Image 3]
       +----------------------------+

       [Wo kaufen] [Online kaufen] [In Routine aufnehmen] [Zu Abo hinzufügen]

       [Description]
       ```

    2. Image grid:
       - Main image: col-span-2 (larger, left side)
       - Images 2 & 3: stacked vertically on right (col-span-1 each)
       - All images: rounded-xl, object-contain, bg-neutral-50
       - Use public/products/{slug}/{slug}_01.png, _02.png, _03.png

    3. Product name styling:
       - text-4xl md:text-5xl font-brand font-bold
       - Color: text-neutral-900
       - Prominent spacing: mb-8
       - Subtitle below name if exists (e.g., "Zahnpasta")

    4. Responsive:
       - Desktop: 2/3 + 1/3 grid
       - Mobile: Single column, main image full width, images 2/3 as 2-column grid below
  </action>
  <verify>
    1. Navigate to /produkte/kariesschutz-zahnpasta
    2. Product name large and bold at top
    3. See 3 product images above fold (main large, 2 smaller on right)
    4. Images load from public/products/{slug}/ folder
  </verify>
  <done>Product pages show prominent name and 3 images above fold in professional layout</done>
</task>

<task type="auto">
  <name>Enhance "Wo kaufen" button and add "Online kaufen"</name>
  <files>src/components/ProductDetailLayout.astro (or src/pages/produkte/*.astro)</files>
  <action>
    Make "Wo kaufen" more prominent and add "Online kaufen" option:

    1. Button group layout (below images):
       ```html
       <div class="flex flex-wrap gap-3 mb-8">
         <a href="/beratung/wo-kaufen?product={slug}"
            class="px-8 py-4 bg-primary hover:bg-primary-dark text-white font-semibold text-lg rounded-full transition-colors shadow-lg hover:shadow-xl">
           Wo kaufen
         </a>
         <a href="#online-retailers"
            class="px-8 py-4 bg-white hover:bg-neutral-50 text-primary font-semibold text-lg rounded-full border-2 border-primary transition-colors">
           Online kaufen
         </a>
         <button class="px-6 py-4 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 font-medium rounded-full transition-colors">
           In Routine aufnehmen
         </button>
         <button class="px-6 py-4 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 font-medium rounded-full transition-colors">
           Zu Abo hinzufügen
         </button>
       </div>
       ```

    2. Button hierarchy:
       - "Wo kaufen": Primary action (elmex orange, large, bold)
       - "Online kaufen": Secondary action (outlined, large)
       - Routine/Abo: Tertiary actions (neutral, medium)

    3. Online retailers section (referenced by #online-retailers anchor):
       - Add section further down page with direct buy links
       - dm, Rossmann, Amazon, DocMorris cards
       - Each card: Retailer logo, "Jetzt kaufen" button, opens in new tab

    WHY: User feedback from 03-ISSUES.md - "Wo kaufen" needs to be more prominent, current implementation broken
  </action>
  <verify>
    1. Navigate to product page
    2. See large orange "Wo kaufen" button below images
    3. See "Online kaufen" outlined button next to it
    4. Click "Online kaufen" → scrolls to online retailers section
    5. Routine and Abo buttons present but less prominent
  </verify>
  <done>"Wo kaufen" prominent with orange styling, "Online kaufen" secondary button, button hierarchy clear</done>
</task>

<task type="auto">
  <name>Add detailed ingredients section</name>
  <files>src/pages/produkte/*.astro</files>
  <action>
    Create comprehensive ingredients section for each product:

    1. Section structure (after benefits):
       ```html
       <section class="my-12">
         <h2 class="text-3xl font-brand font-bold text-neutral-900 mb-6">
           Inhaltsstoffe
         </h2>
         <div class="bg-neutral-50 rounded-xl p-6">
           <div class="mb-6">
             <h3 class="font-semibold text-lg text-neutral-800 mb-3">Wirkstoffe</h3>
             <ul class="space-y-2">
               <li class="flex items-start">
                 <span class="font-medium text-primary mr-2">•</span>
                 <div>
                   <span class="font-medium">Aminfluorid (Olafluor) 1400 ppm</span>
                   <p class="text-sm text-neutral-600">Remineralisiert Zahnschmelz und schützt vor Karies</p>
                 </div>
               </li>
             </ul>
           </div>

           <div>
             <h3 class="font-semibold text-lg text-neutral-800 mb-3">Weitere Inhaltsstoffe</h3>
             <p class="text-sm text-neutral-600 leading-relaxed">
               Aqua, Sorbitol, Hydrated Silica, Hydroxyethylcellulose, Olaflur, Aroma, Limonene, Saccharin, CI 77891
             </p>
           </div>

           <p class="text-xs text-neutral-500 mt-4">
             Alle Angaben gemäß aktueller Rezeptur. Bei Fragen wenden Sie sich an Ihren Zahnarzt oder Apotheker.
           </p>
         </div>
       </section>
       ```

    2. Update product data in each .astro file:
       - Expand ingredients array with descriptions
       - Separate active ingredients from other ingredients
       - Add INCI (International Nomenclature of Cosmetic Ingredients) list

    3. Apply to both existing product pages:
       - kariesschutz-zahnpasta.astro
       - sensitive-zahnpasta.astro
  </action>
  <verify>
    1. Navigate to product pages
    2. See "Inhaltsstoffe" section with active ingredients highlighted
    3. Descriptions explain what each active ingredient does
    4. Full INCI list provided
  </verify>
  <done>Detailed ingredients section with active ingredient explanations on all product pages</done>
</task>

<task type="auto">
  <name>Remove time hint from routine integration</name>
  <files>src/components/ProductDetailLayout.astro (or relevant component)</files>
  <action>
    Remove any time-related hints from "In Routine aufnehmen" feature:

    1. Search for time hints like:
       - "Hinzugefügt für 30 Tage"
       - "Tägliche Verwendung"
       - Any duration-related text near routine button

    2. Simplify routine button to just:
       - "In Routine aufnehmen" button
       - Success message: "✓ Zur Routine hinzugefügt"
       - No time duration displayed

    3. If routine logic exists in script tag, remove time tracking

    WHY: Per PROJECT.md requirement - "Zeithinweis bei Routine entfernen"
  </action>
  <verify>
    1. Navigate to product page
    2. Click "In Routine aufnehmen"
    3. No time hint displayed
    4. Simple success confirmation shown
  </verify>
  <done>Time hints removed from routine integration, simplified to just add/remove action</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] All product pages show 3 images above fold
- [ ] Product names prominent and easily readable
- [ ] "Wo kaufen" button large and orange-styled
- [ ] "Online kaufen" button present with online retailers section
- [ ] Routine and Abo buttons visible but less prominent
- [ ] Detailed ingredients section on all products
- [ ] No time hints in routine integration
- [ ] npm run dev starts without errors
- [ ] Both /produkte/kariesschutz-zahnpasta and /produkte/sensitive-zahnpasta functional
</verification>

<success_criteria>
- Product pages show prominent name and 3 images above fold
- "Wo kaufen" button large and functional with online retailers section
- Detailed ingredients with active ingredient descriptions
- Time hints removed from routine integration
- Professional, informative product detail experience
</success_criteria>

<output>
After completion, create `.planning/phases/04-produktsystem-ueberarbeitung/04-02-SUMMARY.md`
</output>
